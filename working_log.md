# format สำหรับบันทึก log | work log format

กดปุ่มนี้ **ทางขวา** เพื่อแก้ไข

![image](https://user-images.githubusercontent.com/76035337/193006396-024b3fd8-93e3-4e24-97f0-2f8b167320ea.png)


## Log day - _dd/mm/yy_

**member** : _member_

**Time** : _เวลาคร่าวๆ_

  #### หัวข้องาน | Heading
    - เนื้อหา พยายามเขียนให้ละเอียดเท่าที่เป็นไปได้
    - e.g. เริ่มต้นแนวคิด หรือ ศึกษาจากไหน
    - ทดลองเขียนครั้งแรกได้ผลอย่างไร เจอบัคอะไรบ้าง แก้ไขอะไรบ้าง ปรับอะไรบ้าง etc.
    - สามารถใส่รูปภาพได้ กด **print screen** หรือ **window + shift s** แล้ว **ctrl + v** ได้เลย
    
> comments อื่นๆ, หมายเหตุ | โปรด **เรียงตามวันเวลา** ด้วย

> บอกในกลุ่มด้วย ถ้ากำลังเขียน และตอนเขียนเสร็จแล้ว ป้องกันการ push log ชนกัน lol

_____________________________________________________________________________

## Log day - 20/9/2565

**member** : All

**Time** : หลังคาบdata ~30 min (14:30 - 15:00)
  #### ประชุมวางแผนงาน
      - ทำความเข้าใจโปรเจคแต่ละข้อ วางแผนการเตรียมทำความเข้าใจเนื้อหา 
      เลือกภาษาที่จะเขียนโปรแกรมและมุมมองโดยรวมคร่าวๆ 
      
_____________________________________________________________________________


## Log day - 23/9/2565

**member** : All

**Time** : หลังคาบdata ~30 min และ ออนไลน์ช่วงดึก ~30 min  (14:30 - 15:00, 22:30 - 23:00)
  #### ประชุมวางแผนงานเพิ่มเติม
    - ทำความเข้าใจโปรเจคแต่ละข้อต่อ และวางแผนแบ่งงานกันแต่ละคนให้ชัดเจน
_____________________________________________________________________________


## Log day - 1/10/2565

**member** : Thanakun

**Time** : ทำช่วงเวลาประมาณ 4 ชั่วโมง (15:30 - 19:30)
  #### ลองเขียนโปรแกรมการคูณโดยไม่ใช้ shift left และ shift right
    - ลองทดสอบโปรแกรมในภาษา C++ ตามความเข้าใจของตัวเองก่อนที่จะเขียนลง assembly 
_____________________________________________________________________________


## Log day - 1/10/2565

**member** : Nuttapong

**Time** : ทำช่วงเวลาประมาณ 2.5 ชั่วโมง (18:00 - 18:30, 21:30 - 23:30)
  #### เริ่มออกแบบ simulator
    - ทำความเข้าใจการทำงานของ simulator ว่าต้องทำงานอย่างไรบ้าง ต้อง print อะไรบ้าง เป็นลำดับอย่างไร
_____________________________________________________________________________


## Log day - 2/10/2565 - 3/10/2565

**member** : Nuttapong

**Time** : ประมาณ 7 ชั่วโมง (13:30-15:30, 16:00-18:30, 19:00 - 20:30, 00:00 - 01:00)
  #### ออกแบบ datapath
    - ออกแบบ datapath ของคอมพิวเตอร์ โดยเริ่มจาก ประยุกต์ datapath ของ risc-V 
    ในสไลด์ part 4 เพราะเป็น single cycle เหมือนกัน และ ของ mips เพราะ
    instruction และ data memory เก็บในที่เดียวกันเหมือนกัน 
    - ค่อยๆลองปรับ path และ control ไปเรื่อยๆ โดยลอง stimulate ทีละคำสั่งจนครบ
    เพื่อให้สามารถรันคำสั่งได้ทุกประเภท
    
   ![image](https://user-images.githubusercontent.com/76035337/193459734-1c9aa298-d3e1-4db5-844e-321cdeb80a6d.png)

  
  #### ออกแบบ ALU control และ Control ต่างๆ
    - ออกแบบว่าแต่ละคำสั่ง ซึ่งกำหนดจากเพียง opcode เท่านั้น (ต่างจากในสไลด์ที่ พิจารณา 
    funct3,7 ด้วย) เพื่อกำหนด ALU control ซึ่งจะสั่งการ ALU ด้วยคำสั่งที่ต่างกันไป
    - ออกแบบ Control ที่เหลือว่า คำสั่งแต่ละประเภท กำหนด controls เป็นอะไรบ้าง
    
   https://www.notion.so/Simulator-148735a6d13445bca8770d44e7336231

  #### เริ่ม implement code
    - พยายามเริ่มจาก memory ที่รับค่า PC มาเพื่อกำหนดบรรทัด instruction
    - เจอปัญหาในการออกแบบ นั่นคือการกำหนดชนิดของตัวแปรของค่าที่ไปมาในแต่ละส่วน 
    (เช่น จาก instructions แยกเป็น opcode, regA, etc.) หากกำหนด
    เป็น binary string ก็จะทำให้เห็นภาพชัดเจน สังเกตง่าย แต่อาจจะต้องแปลงกลับเวลาคำนวณ
    หากเป็น int หรือ byte ก็จะสมจริงมากกว่า และสะดวกในการคำนวณทั้ง address และ data
    - Memory.java , InstructionRegister.java, Registers.java เบื้องต้น และเทสการทำงาน
    เบื้องต้น ทั้งนี้ในอนาคตอาจมีการเปลี่ยนรูปแบบฟังก์ชันต่างๆได้ เพื่อให้สะดวกและนำไปใช้ง่ายขึ้น
_____________________________________________________________________________


## Log day - 2/10/2565

**member** : Thanakun

**Time** : ทำช่วงเวลาประมาณ 2 ชั่วโมง (22:00 - 00:00)
  #### ลองเขียนโปรแกรม C++ เป็น multiplication โดยไม่ใช้ Shift left และ Shift right
    - การเขียนโปรแกรม C++ เพื่อให้ทำความเข้าใจที่จะสามารถใช้งานได้ต่อไปในภาษา assembly
    - เพื่อให้สอดคล้องกับ instruction ของ Assembly ใน Project (MIPS และ RISC-V)
_____________________________________________________________________________


## Log day - 3/10/2565

**member** : Nuttapong

**Time** : ทำช่วงเวลาประมาณ 2.5 ชั่วโมง (13:50 - 14:20, 17:00 - 17:30, 19:30 - 21:00)

  #### start implement Gate.java
    - สร้าง gate สำหรับใช้ทั้งในวงจรและ alu โดยรวมหลายๆ gate ที่ต้องใช้ และ add, sub สำหรับ
    ใน ALU ด้วย 
    - NAND มีความยุ่งยากที่สุดในบรรดา oprerators ขั้นต้น ทดลองแยก int เป็น binaryString 
    แล้วเช็คทีละ คู่บิท แต่จากความซับซ้อนที่เกินจำเป็น จึงปรับเหลือ นำ input มา and กันก่อน
    แล้วค่อย not result ทีละบิท

  #### start implement ImmGen.java
    - เป็นเพียงเสมือนขยาย bit และแทรกการแปลง 2's complement 16 bit -> 32 bit

  #### start implement Control.java
    - part นี้จะรับ opcode มาแล้ว generate controls ทั้งหมด ตาม opcode
    - สร้าง function สำหรับ get control ต่างๆ และ function reset สำหรับรีเซ็ท control ทั้งหมด

  #### start implement ALUControl.java
    - part นี้จะรับ ALUop จาก Control และส่ง ALUcontrol ให้ ALU ทำงานตามที่ต้องการ

  #### start implement ALU.java
    - part นี้จะรับ ALUControl (ctrl) จาก ALUControl (class) และ คำนวณค่า result และ zero 
    จาก input ที่ได้รับ โดยเรียกใช้ gate ต่างๆ
_____________________________________________________________________________


## Log day - 3/10/2565

**member** : Thanakun

**Time** : ทำช่วงเวลาประมาณ 3 ชั่วโมง (18:00 - 21:00)
  #### ลองเขียนโปรแกรม Assembly Program เป็น multiplication โดยไม่ใช้ Shift left และ Shift right
    - ต้องทำความเข้าใจ โปรแกรม assembly ในการใช้ instruction ในแต่ละ instruction และผลลัพธ์ที่ควรได้
    - ทำข้อ multiplication เสร็จไปแล้ว 60 % 
  #### ทำความเข้าใจข้อ Combination 
    - ทำความเข้าใจว่า อัลกอริทึมว่ามีการทำงานอย่างไร และออกแบบให้เป็นภาษา asssembly 
_____________________________________________________________________________


## Log day - 4/10/2565

**member** : Thanakun

**Time** : ทำช่วงเวลาประมาณ 3 ชั่วโมง (15:00 - 18:00)
  #### เขียนโปรแกรม Multiplication การคูณเสร็จแล้ว
    - ยังไม่แน่ใจว่าทำมาถูกหรือไม่ ต้องรอดูแก้บัคอีกหนนึง
  #### ทำความเข้าใจข้อ และ กำลังทำ Combination 
    - ออกแบบให้ตัวระบบของ assembly เป็นให้ทำงานแบบ recursive ให้ได้
_____________________________________________________________________________


## Log day - 4/10/2565

**member** : Nuttapong

**Time** : ประมาณ 3 ชั่วโมง (13:00-16:00, 23:00 - 24:00)
  #### implement Sumulation
    - เริ่มทำการ implement ตัวซิมูเลชั่น จำลองการทำงานภายในคอมพิวเตอร์ โดยนำแต่ละส่วนที่สร้าง
    มารวมกันตาม datapath ที่ออกแบบไว้ แต่ยังเกิดปัญหาด้ายความซับซ้อนของแต่ละ class ในการ
    รับ-ส่ง input-output ทำให้จำเป็นต้องปรับแก้ไข เพื่อลดความซับซ้อนและเป็นระเบียบเข้าใจง่ายมากขึ้น
  #### การปรับแก้ design
    - หลังจากพยายามปรับดีไซน์มาซักพัก จึงได้ข้อสรุปว่าจะทำให้ class หลักๆ แบ่งเป็น รับอินพุท ประมวลผล
    และ รีเทิร์นเอาพุท แยกกันทั้งตัวแรก และฟังก์ชั่น อาจทำให้ code ยาวขึ้น แต่ส่วนตัวคิดว่ามีความซับซ้อนลดลง
    และเป็นระเบียบมากขึ้น เข้าใจมากขึ้น
_____________________________________________________________________________


## Log day - 5/10/2565

**member** : Thanakun

**Time** : ทำช่วงเวลาประมาณ 4 ชั่วโมง (19:00 - 23:00)
  #### เขียนโปรแกรม Multiplication เสร็จเรียบร้อย เหลือเพียงแค่ testing simulator ของ assembly 
    - สำเร็จเรียบร้อยปรับให้ใช้ คำสั่งน้อยลงและบรรทัดน้อยลง เปลี่ยนจากการใช้เกิน 8 register ให้เพียงพอกับ 8 register พร้อมบอกว่าแต่ละคำสั่งมีการทำงานอย่างไร comment เรียบร้องแล้ว
  #### ทำความเข้าใจข้อ และ กำลังทำ Combination 
    - ตอนนี้กำลังออกแบบ algorithm และ เขียนรูปแบบคำสั่งในกระดาษไว้แล้ว และกำลังปรับให้สอดคล้องกับ instruction ที่มีอยู่ ให้สามารถทำงานแบบ recursion ได้
_____________________________________________________________________________


## Log day - 5/10/2565

**member** : Nuttapong

**Time** : ประมาณ 2.5 ชั่วโมง (21:30 - 23:30,24:00 - 24:30)
  #### debugging
    - หลังจาก implement simulation เสร็จ ก็ทำการลองรัน program ตัวอย่าง ทีละคำสั่งเพื่อแก้บัคไปเรื่อยๆ
    - ตั้งแต่ bug ใน controls ที่โปรแกรมจะreset ทุก control ก่อน set control คำสั่งใหม่ ซึ่ง reset input
    ที่เป็น opcode ไปด้วย
    - immgen กับการทำ 2's complememt และ NAND 
_____________________________________________________________________________


## Log day - 6/10/2565

**member** : Nuttapong

**Time** : ประมาณ 2.5 ชั่วโมง (10:00 - 10:40)
  #### immgen and 2's complement
    - เนื่องจากต้องการทำ 2's complement ซึ่งต้องการ การกลับbit แล้ว + 1 ตามทฤษฎี
    - แต่มี gate.java อยู่แล้ว จึงเลือก nand มาทำ not เพื่อกลับ bit แต่ว่า Gate.java สำหรับ
    Nand เป็น 32 bits (เพราะใช้ใน ALU) ทำให้ใช้ Gate.java ไม่ได้
     จึงต้อง implement 16 bit-NAND ใน immgen แทน
  #### finish debugging ?
    - สามารถรันโปรแกรมตัวอย่างในบรีฟโปรเจคได้สำเร็จ หลังจากแก้ bug มาซักพัก
_____________________________________________________________________________
## Log day - 8/10/2565

**member** : Thanakun

**Time** : ประมาณ 3 ชั่วโมง (21:00 - 00:00)
  #### สามารถ subroutine และ stack ได้แล้วขาดแค่ความถูกต้องและให้สามารถเข้าทุกเงื่อนไข
    - ความยากเกิดจากที่โปรแกรม ไม่มี bne มาให้และจำเป็นต้องให้ มีหลาย subroutine และ ในการเรียกที่ยากขึ้น
    การทำความเข้าใจในตอนนี้คิดว่าเสร็จแล้ว 40 % ขาดก็แค่ทำอย่างไรให้ โปรแกรมทำงานแบบ jalr และ stack สอดคล้อง
    กับ algorithm ของ instruction ที่มีและ ให้เหมาะสมสามารถคำนวณ recursive ได้อย่างถูกต้อง
  #### algorithm of assembly RISC-V combination
    - เหนื่อยเพราะต้องออกแบบ algorithm ใหม่ ใช้งานได้ลงตัวกับเงื่อนไขที่มี ใน stack หรือ โปรแกรม
_____________________________________________________________________________

## Log day - 9/10/2565

**member** : Thanakun

**Time** : ประมาณ 3.5 ชั่วโมง (20:30 - 00:00)
  #### ต้องแก้ไขใหม่หมดเพราะใช้ตัวแปรเกิน และ การ simulator ไม่แน่ใจว่าบัคหรือไม่ แต่คิดภาพรวมโปรแกรมออกมาเป็น assembly ได้แล้ว
    - ยังไม่ค่อยเข้าใจว่า lw กับ jalr มันจะโดดยังไงเพราะจู่ๆก็โดดผิดบ้างต้องแก้ไขหลายอย่างแต่ได้ลองเขียนใน assembly แล้วทำงานได้ดีที่เหลือคือลองทำลง simulator
  #### algorithm of assembly RISC-V combination
    - ออกแบบได้แล้ว เหลือแค่ลงมือเขียนลง assembly ให้เห็นภาพและทำงานได้ถูกต้องให้ได้ ยากจริงๆ T_T
_____________________________________________________________________________

## Log day - 12/10/2565

**member** : Thanakun

**Time** : ประมาณ 3 ชั่วโมง (21:00 - 00:00)
  #### ตอนนี่บัคได้รับการแก้ไขแล้ว แต่ combination ยังไม่เสร็จเพราะยังไม่รู้จะเก็บค่า stack ยังไงให้ได้เท่าเดิม
      - ตอนนี้ทำไปได้แล้ว 50% ที่เหลือก็แค่ ให้คิดออกแล้วก็ให้เสร็จ ภาวนา :)
_____________________________________________________________________________
